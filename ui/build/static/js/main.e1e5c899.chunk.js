(this["webpackJsonpwifi-connect-ui"]=this["webpackJsonpwifi-connect-ui"]||[]).push([[0],{1167:function(e,t,n){"use strict";n.r(t);var a,o=n(0),r=n.n(o),i=n(85),c=n.n(i),s=(n(461),n(462),n(57)),l=n(395),u=n(396),m=n.n(u),d=n(1177),f=n(1175),h=n(448),p=n(22),g=n(69),w=n(27),b=n(1176),E=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{strokeWidth:"0.1",fill:"currentColor",stroke:"currentColor",d:"M13.5 2c-5.621 0-10.211 4.443-10.475 10h-3.025l5 6.625 5-6.625h-2.975c.257-3.351 3.06-6 6.475-6 3.584 0 6.5 2.916 6.5 6.5s-2.916 6.5-6.5 6.5c-1.863 0-3.542-.793-4.728-2.053l-2.427 3.216c1.877 1.754 4.389 2.837 7.155 2.837 5.79 0 10.5-4.71 10.5-10.5s-4.71-10.5-10.5-10.5z"}))},v=function(e){var t;return{type:"object",properties:{ssid:{title:"Nome da rede",type:"string",default:null===(t=e[0])||void 0===t?void 0:t.ssid,oneOf:e.map((function(e){return{const:e.ssid,title:e.ssid}}))},identity:{title:"User",type:"string",default:""},passphrase:{title:"Senha",type:"string",default:""}},required:["ssid"]}},y=function(e){var t,n,a,r=e.fetchNetworks,i=e.availableNetworks,c=e.secondaryWifi,l=e.onSubmit,u=e.onRepeat,m=o.useState({}),d=Object(s.a)(m,2),f=d[0],h=d[1],y=(t=i,n=f.ssid,t.some((function(e){return e.ssid===n&&"enterprise"===e.security})));return o.createElement(p.a,{flexDirection:"column",alignItems:"center",justifyContent:"center",m:4,mt:5},o.createElement(g.a.h3,{align:"center",mb:4},o.createElement(p.a,{flexDirection:["column","row"],flexWrap:"wrap"},"Ol\xe1! Por favor selecione o WiFi",o.createElement(w.a,{ml:[0,3],tertiary:!0,plain:!0,icon:o.createElement(E,null),onClick:r},"Rescanear"))),o.createElement(b.a,{width:["100%","80%","60%","40%"],onFormChange:function(e){var t=e.formData;h(t)},onFormSubmit:function(e){var t=e.formData;return l(t)},value:f,schema:v(i),uiSchema:(a=y,{ssid:{"ui:placeholder":"Select SSID","ui:options":{emphasized:!0}},identity:{"ui:options":{emphasized:!0},"ui:widget":a?void 0:"hidden"},passphrase:{"ui:widget":"password","ui:options":{emphasized:!0}}}),secondaryButtonProps:{onClick:function(){return u(f)},children:"Repetir",width:"45%",mx:"20%",mt:3,disabled:!c},submitButtonProps:{width:"45%",mx:"20%",mt:3,disabled:i.length<=0},submitButtonText:"Conectar"}))},S=n(450),k=n(14),x=function(e){var t=e.hasAvailableNetworks,n=e.attemptedConnect,a=e.error;return o.createElement(o.Fragment,null,n&&o.createElement(S.a,{m:2,info:!0},o.createElement(k.a.span,null,"Aplicando mudan\xe7as... "),o.createElement(k.a.span,null,"Em breve, seu dispositivo estar\xe1 online. Se a conex\xe3o n\xe3o for bem-sucedida, o ponto de acesso estar\xe1 de volta em alguns minutos, e recarregar este p\xe1gina permitir\xe1 que voc\xea tente novamente.")),!t&&o.createElement(S.a,{m:2,warning:!0},o.createElement(k.a.span,null,"N\xe3o h\xe1 redes wi-fi dispon\xedveis. Clique em 'Rescanear' para pesquisar novamente.")),!!a&&o.createElement(S.a,{m:2,danger:!0},o.createElement(k.a.span,null,a)))},C=n(2),O=Object(C.createGlobalStyle)(a||(a=Object(l.a)(["\n\tbody {\n\t\tmargin: 0;\n\t\tfont-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n\t\t\t'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n\t\t\tsans-serif;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t}\n\n\tcode {\n\t\tfont-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\n\t}\n"]))),j=function(){var e=window.location,t=e.hostname,n=e.protocol,a="".concat(n,"//").concat(t,":").concat(4e3),o=r.a.useState(!1),i=Object(s.a)(o,2),c=i[0],l=i[1],u=r.a.useState(!0),p=Object(s.a)(u,2),g=p[0],w=p[1],b=r.a.useState(""),E=Object(s.a)(b,2),v=E[0],S=E[1],k=r.a.useState(),C=Object(s.a)(k,2),j=C[0],N=C[1],F=r.a.useState([]),T=Object(s.a)(F,2),B=T[0],D=T[1];r.a.useEffect((function(){console.log("FETCHING BRIDGE",a),fetch("".concat(a,"/bridge")).then((function(e){if(200!==e.status)throw new Error(e.statusText);return e.json()})).then(N).catch((function(e){S("Failed to fetch bridge devices. ".concat(e.message||e))}))}),[a]);var R=function(){w(!0),fetch("/networks").then((function(e){if(200!==e.status)throw new Error(e.statusText);return e.json()})).then(D).catch((function(e){S("Failed to fetch available networks. ".concat(e.message||e))})).finally((function(){w(!1)}))};r.a.useEffect((function(){R()}),[]);return r.a.createElement(d.a,null,r.a.createElement(O,null),r.a.createElement(f.a,{brand:r.a.createElement("a",{href:"https://coolab.org"},r.a.createElement("img",{src:m.a,style:{height:30},alt:"logo"}))}),r.a.createElement(h.a,null,r.a.createElement(x,{attemptedConnect:c,hasAvailableNetworks:g||B.length>0,error:v}),r.a.createElement(y,{fetchNetworks:R,availableNetworks:B,onSubmit:function(e){l(!0),S(""),fetch("/connect",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status)throw new Error(e.statusText)})).catch((function(e){S("Failed to connect to the network. ".concat(e.message||e))}))},onRepeat:function(e){e.iface=null===j||void 0===j?void 0:j.iface,l(!0),S(""),fetch("".concat(a,"/repeat"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status)throw new Error(e.statusText)})).catch((function(e){S("Failed to connect to the network. ".concat(e.message||e))}))},secondaryWifi:j})))};c.a.render(r.a.createElement(j,null),document.getElementById("root"))},396:function(e,t,n){e.exports=n.p+"static/media/coolab_logo_preto.e6370ac3.png"},456:function(e,t,n){e.exports=n(1167)}},[[456,1,2]]]);