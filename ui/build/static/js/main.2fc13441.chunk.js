(this["webpackJsonpwifi-connect-ui"]=this["webpackJsonpwifi-connect-ui"]||[]).push([[0],{1167:function(e,t,n){"use strict";n.r(t);var a,o=n(0),i=n.n(o),s=n(85),r=n.n(s),c=(n(461),n(462),n(57)),l=n(395),u=n(396),m=n.n(u),f=n(1177),d=n(1175),h=n(448),p=n(22),b=n(69),w=n(1176),g=function(e){var t;return{type:"object",properties:{ssid:{title:"SSID",type:"string",default:null===(t=e[0])||void 0===t?void 0:t.ssid,oneOf:e.map((function(e){return{const:e.ssid,title:e.ssid}}))},identity:{title:"User",type:"string",default:""},passphrase:{title:"Passphrase",type:"string",default:""}},required:["ssid"]}},y=function(e){var t,n,a,i=e.availableNetworks,s=e.secondaryWifi,r=e.onSubmit,l=e.onRepeat,u=o.useState({}),m=Object(c.a)(u,2),f=m[0],d=m[1],h=(t=i,n=f.ssid,t.some((function(e){return e.ssid===n&&"enterprise"===e.security})));return o.createElement(p.a,{flexDirection:"column",alignItems:"center",justifyContent:"center",m:4,mt:5},o.createElement(b.a.h3,{align:"center",mb:4},"Hi! Please choose your WiFi from the list"),o.createElement(w.a,{width:["100%","80%","60%","40%"],onFormChange:function(e){var t=e.formData;d(t)},onFormSubmit:function(e){var t=e.formData;return r(t)},value:f,schema:g(i),uiSchema:(a=h,{ssid:{"ui:placeholder":"Select SSID","ui:options":{emphasized:!0}},identity:{"ui:options":{emphasized:!0},"ui:widget":a?void 0:"hidden"},passphrase:{"ui:widget":"password","ui:options":{emphasized:!0}}}),secondaryButtonProps:{onClick:function(){return l(f)},children:"Repeat",width:"45%",mx:"20%",mt:3,disabled:!s},submitButtonProps:{width:"45%",mx:"20%",mt:3,disabled:i.length<=0},submitButtonText:"Connect"}))},E=n(450),v=n(14),S=function(e){var t=e.hasAvailableNetworks,n=e.attemptedConnect,a=e.error;return o.createElement(o.Fragment,null,n&&o.createElement(E.a,{m:2,info:!0},o.createElement(v.a.span,null,"Applying changes... "),o.createElement(v.a.span,null,"Your device will soon be online. If connection is unsuccessful, the Access Point will be back up in a few minutes, and reloading this page will allow you to try again.")),!t&&o.createElement(E.a,{m:2,warning:!0},o.createElement(v.a.span,null,"No wifi networks available.\xa0"),o.createElement(v.a.span,null,"Please ensure there is a network within range and reboot the device.")),!!a&&o.createElement(E.a,{m:2,danger:!0},o.createElement(v.a.span,null,a)))},k=n(2),j=Object(k.createGlobalStyle)(a||(a=Object(l.a)(["\n\tbody {\n\t\tmargin: 0;\n\t\tfont-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n\t\t\t'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n\t\t\tsans-serif;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t}\n\n\tcode {\n\t\tfont-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\n\t}\n"]))),O=function(){var e=i.a.useState(!1),t=Object(c.a)(e,2),n=t[0],a=t[1],o=i.a.useState(!0),s=Object(c.a)(o,2),r=s[0],l=s[1],u=i.a.useState(""),p=Object(c.a)(u,2),b=p[0],w=p[1],g=i.a.useState(),E=Object(c.a)(g,2),v=E[0],k=E[1],O=i.a.useState([]),x=Object(c.a)(O,2),C=x[0],F=x[1];i.a.useEffect((function(){fetch("http://localhost:4000/bridge").then((function(e){if(200!==e.status)throw new Error(e.statusText);return e.json()})).then(k).catch((function(e){w("Failed to fetch available networks. ".concat(e.message||e))}))}),[]),i.a.useEffect((function(){fetch("/networks").then((function(e){if(200!==e.status)throw new Error(e.statusText);return e.json()})).then(F).catch((function(e){w("Failed to fetch available networks. ".concat(e.message||e))})).finally((function(){l(!1)}))}),[]);return i.a.createElement(f.a,null,i.a.createElement(j,null),i.a.createElement(d.a,{brand:i.a.createElement("img",{src:m.a,style:{height:30},alt:"logo"})}),i.a.createElement(h.a,null,i.a.createElement(S,{attemptedConnect:n,hasAvailableNetworks:r||C.length>0,error:b}),i.a.createElement(y,{availableNetworks:C,onSubmit:function(e){a(!0),w(""),fetch("/connect",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status)throw new Error(e.statusText)})).catch((function(e){w("Failed to connect to the network. ".concat(e.message||e))}))},onRepeat:function(e){e.iface=null===v||void 0===v?void 0:v.iface,a(!0),w(""),fetch("http://localhost:4000/repeat",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status)throw new Error(e.statusText)})).catch((function(e){w("Failed to connect to the network. ".concat(e.message||e))}))},secondaryWifi:v})))};r.a.render(i.a.createElement(O,null),document.getElementById("root"))},396:function(e,t,n){e.exports=n.p+"static/media/logo.34c0c94e.svg"},456:function(e,t,n){e.exports=n(1167)}},[[456,1,2]]]);